cmake_minimum_required(VERSION 3.21)
project(C_Copy_Constructor C)

set(GStreamer_INCLUDE_DIR /usr/include/gstreamer-1.0 /usr/include/glib-2.0 /usr/lib/aarch64-linux-gnu/glib-2.0/include)
set(GStreamer_LIBRARIES -pthread -lgstreamer-1.0 -lgobject-2.0 -lglib-2.0 -lgstrtspserver-1.0)

find_package( OpenCV REQUIRED )
include_directories( ${OpenCV_INCLUDE_DIRS} )

include_directories (${GTK2_INCLUDE_DIRS})
link_directories (${GTK2_LIBRARY_DIRS})

add_definitions (${GTK2_CFLAGS_OTHER})

find_package(PkgConfig REQUIRED)
pkg_search_module(GLIB REQUIRED glib-2.0)

include_directories(
        include
        ${GStreamer_INCLUDE_DIR}
        /usr/local/include/opencv4/opencv2/
        /usr/include/opencv4/opencv2/
        /usr/include/opencv4/opencv2/aruco/
        /usr/include/opencv4/opencv2/bioinspired/
        /usr/include/opencv4/opencv2/calib3d/
        /usr/include/opencv4/opencv2/ccalib/
        /usr/include/opencv4/opencv2/core/
        /usr/include/opencv4/opencv2/core/cuda/
        /usr/include/opencv4/opencv2/core/cuda/detail/
        /usr/include/opencv4/opencv2/core/detail/
        /usr/include/opencv4/opencv2/core/hal/
        /usr/include/opencv4/opencv2/core/opencl/
        /usr/include/opencv4/opencv2/core/opencl/runtime/
        /usr/include/opencv4/opencv2/core/opencl/runtime/autogenerated/
        /usr/include/opencv4/opencv2/core/utils/
        /usr/include/opencv4/opencv2/datasets/
        /usr/include/opencv4/opencv2/dnn/
        /usr/include/opencv4/opencv2/dnn/utils/
        /usr/include/opencv4/opencv2/face/
        /usr/include/opencv4/opencv2/features2d/
        /usr/include/opencv4/opencv2/features2d/hal/
        /usr/include/opencv4/opencv2/flann/
        /usr/include/opencv4/opencv2/fuzzy/
        /usr/include/opencv4/opencv2/hdf/
        /usr/include/opencv4/opencv2/highgui/
        /usr/include/opencv4/opencv2/img_hash/
        /usr/include/opencv4/opencv2/imgcodecs/
        /usr/include/opencv4/opencv2/imgproc/
        /usr/include/opencv4/opencv2/imgproc/hal/
        /usr/include/opencv4/opencv2/line_descriptor/
        /usr/include/opencv4/opencv2/ml/
        /usr/include/opencv4/opencv2/objdetect/
        /usr/include/opencv4/opencv2/optflow/
        /usr/include/opencv4/opencv2/phase_unwrapping/
        /usr/include/opencv4/opencv2/photo/
        /usr/include/opencv4/opencv2/quality/
        /usr/include/opencv4/opencv2/reg/
        /usr/include/opencv4/opencv2/rgbd/
        /usr/include/opencv4/opencv2/saliency/
        /usr/include/opencv4/opencv2/shape/
        /usr/include/opencv4/opencv2/stereo/
        /usr/include/opencv4/opencv2/stitching/
        /usr/include/opencv4/opencv2/structured_light/
        /usr/include/opencv4/opencv2/superres/
        /usr/include/opencv4/opencv2/surface_matching/
        /usr/include/opencv4/opencv2/text/
        /usr/include/opencv4/opencv2/tracking/
        /usr/local/include/opencv4/opencv2/video/
        /usr/local/include/opencv4/opencv2/video/detail/
        /usr/local/include/opencv4/opencv2/video/legacy/
        /usr/local/include/opencv4/opencv2/videoio/
        /usr/local/include/opencv4/opencv2/videoio/legacy/
        /usr/local/include/opencv4/opencv2/videostab/
        /usr/local/include/opencv4/opencv2/xfeatures2d/
        /usr/local/include/opencv4/opencv2/ximgproc/
        /usr/local/include/opencv4/opencv2/xphoto/
)

set(3RDPARTY_LIBS
        ${GStreamer_LIBRARIES})

set(CMAKE_C_STANDARD 99)

add_executable(C_Copy_Constructor main.c /usr/include/opencv4/opencv2/opencv.hpp)

target_include_directories(C_Copy_Constructor PRIVATE ${GStreamer_LIBRARIES} ${GLIB_INCLUDE_DIRS})

target_link_libraries(C_Copy_Constructor ${3RDPARTY_LIBS} ${GTK2_LIBRARIES})

get_cmake_property(_variableNames VARIABLES)
list (SORT _variableNames)
foreach (_variableName ${_variableNames})
    message(STATUS "${_variableName}=${${_variableName}}")
endforeach()


